<main class="layout">
    <aside class="sidebar">
        <a th:classappend="${categoriaAtual}==null ? ' active'" th:href="@{/}">Tudo</a>
        <a th:each="c : ${categorias}" 
            th:classappend="${categoriaAtual}==${c}? ' active'" 
            th:text="${c}" 
            th:href="@{|/categoria/${c}|}">Categoria</a>
    </aside>

    <section class="content">

        <article class="card" th:each="item : ${itens}">
            <img th:src="@{${item.imagem}}" alt="Imagem do item" class="thumb">
            <div class="info">
                <h3 th:text="${item.nome}">Nome</h3>
                <p class="desc" th:text="${item.descricao}">DescriÃ§Ã£o</p>
            </div>
            <div class="price" th:text="${#numbers.formatDecimal(item.preco,1,2)}">0,00</div>
            <form class="add" th:action="@{|/adicionar/${item.id}|}" method="post">
                <button type="submit" title="Adicionar">ï¼‹</button>
            </form>
        </article>

        <section class="cart-summary" th:if="${carrinho.quantidadeTotal > 0}">
            <h2>ðŸ›’ Carrinho</h2>
            <table>
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Qtd</th>
                        <th>PreÃ§o</th>
                        <th>AÃ§Ãµes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="entry : ${carrinho.itens}">
                        <td th:text="${entry.key.nome}">Item</td>
                        <td th:text="${entry.value}">1</td>
                        <td th:text="${#numbers.formatDecimal(entry.key.preco.multiply(T(entry.value).bigDecimalValue()),1,2)}">0,00</td>
                        <td>
                            <form th:action="@{|/remover/${entry.key.id}|}" method="post" style="display:inline">
                                <button type="submit">âˆ’</button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="total">
                <span>Total:</span>
                <strong th:text="${#numbers.formatDecimal(carrinho.total,1,2)}">0,00</strong>
            </div>
        </section>

    </section>
</main>